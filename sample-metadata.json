{
	"resource_version": 2,
	"metadata": {
		"version": 3,
		"sources": [
			{
				"name": "default",
				"kind": "postgres",
				"tables": [],
				"configuration": {
					"connection_info": {
						"database_url": {
							"from_env": "PG_DATABASE_URL"
						},
						"isolation_level": "read-committed",
						"use_prepared_statements": false
					}
				}
			}
		],
		"actions": [
			{
				"name": "resTransformOne",
				"definition": {
					"handler": "http://host.docker.internal:3005",
					"output_type": "DatesArray",
					"request_transform": {
						"method": "GET",
						"query_params": {},
						"request_headers": {
							"add_headers": {},
							"remove_headers": [
								"content-type"
							]
						},
						"template_engine": "Kriti",
						"url": "{{$base_url}}/example-one",
						"version": 2
					},
					"response_transform": {
						"body": {
							"action": "transform",
							"template": "{\"date\": [\"{{$body.date}}\"]}"
						},
						"template_engine": "Kriti",
						"version": 2
					},
					"type": "query"
				}
			},
			{
				"name": "resTransformTwo",
				"definition": {
					"handler": "http://host.docker.internal:3005",
					"output_type": "Calendar",
					"request_transform": {
						"method": "GET",
						"query_params": {},
						"request_headers": {
							"add_headers": {},
							"remove_headers": [
								"content-type"
							]
						},
						"template_engine": "Kriti",
						"url": "{{$base_url}}/example-two",
						"version": 2
					},
					"response_transform": {
						"body": {
							"action": "transform",
							"template": "{\"calendar\": [ {{range y, x := $body}} {\"date\":  {{ head(head(toPairs(x))) }}, \"onSale\":  {{ size(toPairs(x)-1) }} } {{ end }} ] }"
						},
						"template_engine": "Kriti",
						"version": 2
					},
					"type": "query"
				}
			}
		],
		"custom_types": {
			"input_objects": [
				{
					"name": "SampleInput",
					"fields": [
						{
							"name": "eventId",
							"type": "String!"
						}
					]
				}
			],
			"objects": [
				{
					"name": "Event",
					"fields": [
						{
							"name": "date",
							"type": "String"
						},
						{
							"name": "onSale",
							"type": "Boolean"
						}
					]
				},
				{
					"name": "Calendar",
					"fields": [
						{
							"name": "calendar",
							"type": "[Event]"
						}
					]
				},
				{
					"name": "DatesArray",
					"fields": [
						{
							"name": "date",
							"type": "[String]"
						}
					]
				}
			]
		}
	}
}